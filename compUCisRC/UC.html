<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory UC</title>
</head>


<body>
<div class="head">
<h1>Theory UC</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="UC.html"><span>UC</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
  </span><a href="RobustCompilation.html"><span>RobustCompilation</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>"</span><span>Note that we axiomatise some properties about probabilities and sums, for different reasons.
</span><span>
</span><span>We axiomatize probabilities because HOL.Probability is difficult to use and may be to heavy-weight for simple probabilistic
</span><span>languages that only have discrete probabilities. This makes it easier to plug them in, and the axioms are few and uncontroversial.
</span><span>
</span><span>We axiomatise sums because HOL's builtin sum function guarantees (lemma infinite) to give 1 for infinite sets. This is unsuited, e.g., if a subset only consists
</span><span>of zero probability traces or of traces with rapidly lowering probabilities. HOL does not yet include a sum function over infinite sets. 
</span><span>Countable_Set provides function to map to naturals and lemmas for closure properties, e.g., to show subsets are countable,
</span><span> and perhaps this could be combined with infinite series to define such a sum and prove the necessary properties. Alas, we list those as
</span><span>axioms here and proved them on paper.</span><span> 
</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="UC.UC.intro|fact"><span class="entity_def" id="UC.UC_def|fact"><span class="entity_def" id="UC.UC.intro|thm"><span class="entity_def" id="UC.UC_def|thm"><span class="entity_def" id="UC.UC_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="UC.UC|locale"><span class="entity_def" id="UC.UC|const"><span>UC</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>PrExec</span></span><span>  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'env</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.ctxt|type"><span>ctxt</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prgm|type"><span>prgm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'env</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.ctxt|type"><span>ctxt</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prgm|type"><span>prgm</span></a><span> </span><span class="main"><span>⇒</span></span><span>  </span><span class="tfree"><span>'t</span></span><span>  </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span>"</span></span></span><span>
    </span><span class="comment1"><span>(</span><span>*</span><span> Note: PrExec and PrExecT are total function. Hence, when the random vars Exec or ExecT are
       undefined, we give them probability zero.  </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>β</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> extracts final bit from trace </span><span>*</span><span>)</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>Zcan</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'env</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> canonical Z: produces messages to A and P as specified by t </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'env</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'env</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> for a (non-deterministic Z? ) is this the (a) trace the environment computes </span><span>*</span><span>)</span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> sums over countable sets (two because cannot have polymorphism within locale) </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>csum</span></span><span> </span><span class="main"><span>::</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'t</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>csum2</span></span><span> </span><span class="main"><span>::</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="tfree"><span>'t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> assumptions needed in both directions </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="UC.UC.relation_uc|fact"><span class="entity_def" id="UC.UC.relation_uc|thm"><span>relation_uc</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> We can define a semantic's from UC's semantics. </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.link|const"><span>&gt;&lt;</span></a></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.leadsto|const"><span>↝</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span class="free"><span>p</span></span><span class="main"><span>,</span></span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.prefix_iff_trace_is_prefix|fact"><span class="entity_def" id="UC.UC.prefix_iff_trace_is_prefix|thm"><span>prefix_iff_trace_is_prefix</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> PL-level trace (i.e., tuple) is prefix is the UC trace in it is. </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prefix|const"><span>prefix</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span class="main"><span>,</span></span><span class="free"><span>p</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><span>,</span></span><span class="free"><span>n</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prefix|const"><span>prefix</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> only needed in RSCHPtoUC </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="UC.UC.prefixes_contain_final_bit|fact"><span class="entity_def" id="UC.UC.prefixes_contain_final_bit|thm"><span>prefixes_contain_final_bit</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> every finite trace contains the final bit </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PrExec</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> 
          </span><span class="main"><span>(</span></span><span class="free"><span>csum</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prefix|const"><span>prefix</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>β</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span>
           None </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.uminus_class.uminus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>|</span></span><span> Some </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.nonprobabilistic_envs_are_complete|fact"><span class="entity_def" id="UC.UC.nonprobabilistic_envs_are_complete|thm"><span>nonprobabilistic_envs_are_complete</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="bound"><span>Z'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.construct_canonical_env|fact"><span class="entity_def" id="UC.UC.construct_canonical_env|thm"><span>construct_canonical_env</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="free"><span>Z</span></span><span class="main"><span>;</span></span><span>  </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prefix|const"><span>prefix</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> only needed in UCtoRSCHP </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.construct_canonical_env2|fact"><span class="entity_def" id="UC.UC.construct_canonical_env2|thm"><span>construct_canonical_env2</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prefix|const"><span>prefix</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> axioms for sums </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.csum_reindex|fact"><span class="entity_def" id="UC.UC.csum_reindex|thm"><span>csum_reindex</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> lemma sum_reindex but for infinite sets </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.bij_betw|const"><span>bij_betw</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>B</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span>  </span><span class="free"><span>csum2</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>∘</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>csum</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.csum2_cong|fact"><span class="entity_def" id="UC.UC.csum2_cong|thm"><span>csum2_cong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> sum.cong but for infinite sets </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'t</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>×</span></a></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>  </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>csum2</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>csum2</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>A</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.csum_mono|fact"><span class="entity_def" id="UC.UC.csum_mono|thm"><span>csum_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> sum.mono but for infinite sets </span><span>*</span><span>)</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>fx</span></span><span> </span><span class="bound"><span>gx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'t</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>  </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> 
     </span><span class="main"><span>(</span></span><span class="free"><span>csum</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>fx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>csum</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>A</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>gx</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>fx</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>gx</span></span><span>"</span></span></span><span>

  </span><span class="comment1"><span>(</span><span>*</span><span> axioms of probabilities </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.unit_interval|fact"><span class="entity_def" id="UC.UC.unit_interval|thm"><span>unit_interval</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PrExec</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.unit_interval_min|fact"><span class="entity_def" id="UC.UC.unit_interval_min|thm"><span>unit_interval_min</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PrExec</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.PrExecT_unit_interval_min|fact"><span class="entity_def" id="UC.UC.PrExecT_unit_interval_min|thm"><span>PrExecT_unit_interval_min</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>PrExecT</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>≥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.possible|fact"><span class="entity_def" id="UC.UC.possible|thm"><span>possible</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Z</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'env</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.ctxt|type"><span>ctxt</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prgm|type"><span>prgm</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.UC.possible2|fact"><span class="entity_def" id="UC.UC.possible2|thm"><span>possible2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>  </span><span class="free"><span>PrExecT</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> TODO try to get rid of possible by introducing as abbreviation </span><span>*</span><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Standard cryptographic definition of computational indistinguishability </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="UC.comp_ind|const"><span>comp_ind</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Real.html#Real.real|type"><span>real</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>≈</span></span><span>"</span></span><span> 46</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="free"><span>≈</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>N</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>∀</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span class="bound"><span>n</span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="bound"><span>N</span></span><span> </span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.abs_class.abs|const"><span>abs</span></a><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Fields.html#Fields.inverse_class.inverse_divide|const"><span>/</span></a></span><span class="main"><span>(</span></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Power.html#Power.power_class.power|const"><span>^</span></a></span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="UC.compUC.axioms|fact"><span class="entity_def" id="UC.compUC.intro|fact"><span class="entity_def" id="UC.compUC_def|fact"><span class="entity_def" id="UC.compUC_axioms.intro|fact"><span class="entity_def" id="UC.compUC_axioms_def|fact"><span class="entity_def" id="UC.compUC.axioms(2)|thm"><span class="entity_def" id="UC.compUC.axioms(1)|thm"><span class="entity_def" id="UC.compUC.intro|thm"><span class="entity_def" id="UC.compUC_def|thm"><span class="entity_def" id="UC.compUC_axioms.intro|thm"><span class="entity_def" id="UC.compUC_axioms_def|thm"><span class="entity_def" id="UC.compUC_def|axiom"><span class="entity_def" id="UC.compUC_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="UC.compUC|locale"><span class="entity_def" id="UC.compUC|const"><span class="entity_def" id="UC.compUC_axioms|const"><span>compUC</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="UC.html#UC.UC|locale"><span>UC</span></a><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>uct</span></span><span class="main"><span>::</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'uc</span></span><span> </span><span>itself</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>ZClass</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'env</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="UC.compUC.env_fixes_io|fact"><span class="entity_def" id="UC.compUC.env_fixes_io|thm"><span>env_fixes_io</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="free"><span>Z</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="free"><span>Z'</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>possible</span></span><span> </span><span class="free"><span>Z</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span>
     </span><span class="free"><span>PrExecT</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Z</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'env</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>A</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.ctxt|type"><span>ctxt</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>P</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'uc</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.prgm|type"><span>prgm</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>PrExecT</span></span><span> </span><span class="free"><span>Z'</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> remember, trace contains final bit </span><span>*</span><span>)</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.compUC.Zcan_nonprob|fact"><span class="entity_def" id="UC.compUC.Zcan_nonprob|thm"><span>Zcan_nonprob</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.compUC.Zcan_possible|fact"><span class="entity_def" id="UC.compUC.Zcan_possible|thm"><span>Zcan_possible</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>possible</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Zcan</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.compUC.nonprobabilistic_envs_are_complete_comp|fact"><span class="entity_def" id="UC.compUC.nonprobabilistic_envs_are_complete_comp|thm"><span>nonprobabilistic_envs_are_complete_comp</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>Z</span></span><span class="main"><span>∈</span></span><span class="free"><span>ZClass</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="UC.html#UC.comp_ind|const"><span>≈</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>Z'</span></span><span class="main"><span>∈</span></span><span class="free"><span>ZClass</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="UC.html#UC.comp_ind|const"><span>≈</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="bound"><span>Z'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="UC.compUC.nonprobabilistic_envs_are_sound_comp|fact"><span class="entity_def" id="UC.compUC.nonprobabilistic_envs_are_sound_comp|thm"><span>nonprobabilistic_envs_are_sound_comp</span></span></span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>Z</span></span><span class="main"><span>∈</span></span><span class="free"><span>ZClass</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span> </span><span class="bound"><span>b</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="UC.html#UC.comp_ind|const"><span>≈</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span> </span><span class="bound"><span>Z'</span></span><span class="main"><span>∈</span></span><span class="free"><span>ZClass</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span class="main"><span>(</span></span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="free"><span>P</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><a class="entity_ref" href="UC.html#UC.comp_ind|const"><span>≈</span></a></span><span> </span><span class="free"><span>PrExec</span></span><span> </span><span class="bound"><span>Z'</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>F</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>nonprobabilistic</span></span><span> </span><span class="bound"><span>Z'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Create a locale that includes a compiler so Isabelle
   recognizes the proofs as using the same compiler. </span><span>*</span><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="UC.compUCisRC.axioms|fact"><span class="entity_def" id="UC.compUCisRC.intro|fact"><span class="entity_def" id="UC.compUCisRC_def|fact"><span class="entity_def" id="UC.compUCisRC_axioms.intro|fact"><span class="entity_def" id="UC.compUCisRC_axioms_def|fact"><span class="entity_def" id="UC.compUCisRC.axioms(2)|thm"><span class="entity_def" id="UC.compUCisRC.axioms(1)|thm"><span class="entity_def" id="UC.compUCisRC.intro|thm"><span class="entity_def" id="UC.compUCisRC_def|thm"><span class="entity_def" id="UC.compUCisRC_axioms.intro|thm"><span class="entity_def" id="UC.compUCisRC_axioms_def|thm"><span class="entity_def" id="UC.compUCisRC_def|axiom"><span class="entity_def" id="UC.compUCisRC_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="UC.compUCisRC|locale"><span class="entity_def" id="UC.compUCisRC|const"><span class="entity_def" id="UC.compUCisRC_axioms|const"><span>compUCisRC</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="UC.html#UC.compUC|locale"><span>compUC</span></a><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'uc</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'uc</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="RobustCompilation.html#RobustCompilation.comp|type"><span>comp</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>uct</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>uct'</span></span><span class="main"><span>::</span></span><span class="tfree"><span>'uc</span></span><span> </span><span>itself</span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>